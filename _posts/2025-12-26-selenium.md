---
layout: posts
title: "[QA Tools] Selenium"
categories: ['python']
tags: [selenium]
---



실무에서 Selenium은 "자동화하면 좋아 보이니까" 쓰는 도구가 아니다. **릴리즈 이후 바로 깨질 수 있는 핵심 UI 흐름을 빠르게 감지하기 위한 최소한의 안전장치**다.

UI는 가장 늦게 바뀌고, 가장 눈에 잘 띄지만, 동시에 가장 복잡한 레이어다. Selenium 자동화의 목적은 UI를 전부 커버하는 것이 아니라,

- 자주 쓰이고
- 비즈니스적으로 중요하며
- 깨졌을 때 영향도가 큰
    
    흐름을 코드로 고정하는 데 있다.
    

실무에서 잘 만든 Selenium 스크립트는 많지 않다. 대부분은

- 처음엔 잘 돌다가
- 화면 구조 조금 바뀌면 깨지고
- 유지보수 비용이 테스트 비용보다 커져서
    
    결국 꺼지게 된다.
    

아래 내용은 **"망가지지 않게 쓰는 방법"**, 그리고 **"효율이 나는 포인트"** 위주로 정리한다.

---

## 1. 자동화 대상 선정이 80%를 결정한다

### 실무 포인트

모든 테스트 케이스를 자동화하려는 순간 실패한다. Selenium은 **테스트 케이스 단위가 아니라 서비스 흐름 단위**로 써야 한다.

### 이렇게 잡는다

- 매 릴리즈마다 반드시 확인하는 흐름만 선택
- 사람이 매번 손으로 누르고 있는 시나리오 우선
- 실패 시 바로 장애로 이어질 수 있는 구간

### 예시

- 로그인 → 콘솔 진입
- 주요 리소스 목록 조회
- 생성 → 상태 확인 → 삭제

### 정리

> "자동화 비율"이 아니라 "자동화 생존율"이 중요하다.
> 

---

## 2. 요소 탐색은 '변하지 않는 것'만 믿는다

### 실무 포인트

Selenium이 불안정해지는 이유의 대부분은 **요소 선택 전략** 때문이다.

### 이렇게 작성한다

- id, name, data-testid 같은 고정 속성 우선
- XPath는 구조가 아니라 의미 기준으로 최소화
- 클래스명, index 기반 XPath는 마지막 수단

### 피해야 할 예

- `/html/body/div[2]/div[3]/div[1]`
- 화면 레이아웃에 의존하는 경로

### 정리

> 요소는 "보이는 위치"가 아니라 "의미"로 찾는다.
> 

---

## 3. 기다림은 옵션이 아니라 필수다

### 실무 포인트

UI는 항상 API 응답을 기다린다. 기다리지 않는 Selenium은 무조건 깨진다.

### 이렇게 작성한다

- `time.sleep()` 사용 금지
- `WebDriverWait` + 명확한 조건 사용
- 클릭 전/후 대기 포인트를 코드에 드러내기

### 예시 전략

- 버튼 클릭 전: 활성화 여부 대기
- 화면 전환 후: 특정 텍스트 또는 요소 등장 대기

### 정리

> 기다림을 설계하지 않은 자동화는 운에 맡기는 테스트다.
> 

---

## 4. 테스트 데이터는 코드 밖으로 뺀다

### 실무 포인트

값이 바뀔 때마다 스크립트를 고치는 순간, 자동화는 부채가 된다.

### 이렇게 작성한다

- 계정, 리전, 리소스 이름은 설정 파일로 분리
- 환경(dev/stage/prod)에 따라 값 분기
- 실행 시 파라미터로 주입 가능하게 구성

### 정리

> 스크립트는 로직만, 데이터는 외부에서 관리한다.
> 

---

## 5. 실패를 전제로 로그와 스크린샷을 남긴다

### 실무 포인트

자동화 테스트의 가치는 성공 로그가 아니라 **실패 로그**에 있다.

### 이렇게 작성한다

- 단계별 로그 출력
- 실패 시점 자동 스크린샷 저장
- 어떤 단계에서 실패했는지 코드만 봐도 알 수 있게 구성

### 정리

> 다시 돌리지 않아도 원인이 보이게 만든다.
> 

---

## 6. Selenium 단독 사용은 오래 못 간다

### 실무 포인트

UI 자동화만으로는 실패 원인을 설명할 수 없다.

### 이렇게 결합한다

- Postman으로 테스트 데이터 사전 생성
- Charles로 특정 API 응답 조건 재현
- Selenium은 UI 검증에만 집중

### 정리

> Selenium은 마지막 레이어다. 앞단을 같이 써야 오래 간다.
>
